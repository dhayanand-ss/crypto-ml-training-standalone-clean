docker : 2026-01-29 
14:47:56,836 - 
__main__ - WARNING - 
ONNX conversion 
tools not fully 
available
At line:1 char:1
+ docker exec 
0a84df8bc12d bash -c 
"cd /opt/airflow && 
PYTHONPATH=/opt/ ...
+ ~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~
    + CategoryInfo   
           : NotSpe  
  cified: (2026-01   
 -29 14:4...fully    
 available:Strin    
g) [], RemoteExc    
eption
    + FullyQualified 
   ErrorId : Native  
  CommandError
 
2026-01-29 
14:47:56,836 - 
__main__ - INFO - 
For full ONNX 
support, install: 
pip install onnx 
onnxruntime 
transformers[onnx]
2026-01-29 
14:47:56,836 - 
__main__ - INFO - ===
=====================
=====================
===============
2026-01-29 
14:47:56,836 - 
__main__ - INFO - 
TRL ONNX Model 
Converter
2026-01-29 
14:47:56,836 - 
__main__ - INFO - ===
=====================
=====================
===============
2026-01-29 
14:47:56,836 - 
__main__ - INFO - 
Instantiating FinBERT
SentimentAnalyzer...
2026-01-29 
14:47:58,298 - 
__main__ - INFO - Fin
BERTSentimentAnalyzer
 instantiated.
2026-01-29 
14:47:58,298 - 
__main__ - INFO - 
Model loaded 
successfully
2026-01-29 
14:47:58,298 - 
__main__ - INFO - 
Detected PEFT model. 
Merging adapters 
with base model for 
ONNX export...
2026-01-29 
14:47:58,329 - 
__main__ - INFO - 
PEFT adapters merged 
successfully
2026-01-29 
14:47:58,332 - 
__main__ - INFO - 
Converting model to 
ONNX format...
2026-01-29 
14:47:58,332 - 
__main__ - INFO - 
Output path: models/o
nnx/finbert_trl.onnx
2026-01-29 
14:47:58,334 - 
__main__ - INFO - 
Model device: cpu
2026-01-29 
14:47:58,334 - 
__main__ - INFO - 
Exporting model to 
ONNX...
2026-01-29 
14:48:00,660 - 
__main__ - ERROR - 
Error converting 
model to ONNX: 
Module onnx is not 
installed!
Traceback (most 
recent call last):
  File "/home/airflow
/.local/lib/python3.1
0/site-packages/torch
/onnx/_internal/onnx_
proto_utils.py", 
line 221, in 
_add_onnxscript_fn
    import onnx
ModuleNotFoundError: 
No module named 
'onnx'

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "/opt/airflow/
utils/serve/trl_onnx_
maker.py", line 149, 
in convert_finbert_to
_onnx
    
torch.onnx.export(
  File "/home/airflow
/.local/lib/python3.1
0/site-packages/torch
/onnx/utils.py", 
line 516, in export
    _export(
  File "/home/airflow
/.local/lib/python3.1
0/site-packages/torch
/onnx/utils.py", 
line 1670, in _export
    proto = onnx_prot
o_utils._add_onnxscri
pt_fn(
  File "/home/airflow
/.local/lib/python3.1
0/site-packages/torch
/onnx/_internal/onnx_
proto_utils.py", 
line 223, in 
_add_onnxscript_fn
    raise errors.Onnx
ExporterError("Module
 onnx is not 
installed!") from e
torch.onnx.errors.Onn
xExporterError: 
Module onnx is not 
installed!
2026-01-29 
14:48:00,684 - 
__main__ - ERROR - ==
=====================
=====================
================
2026-01-29 
14:48:00,689 - 
__main__ - ERROR - 
ONNX conversion 
failed!
2026-01-29 
14:48:00,690 - 
__main__ - ERROR - ==
=====================
=====================
================
============================================================
TRL ONNX Maker
============================================================
Warning: train_utils not available. Training features will be disabled.
Loading FinBERT model: ProsusAI/finbert
Using device: cpu
LoRA adapters: COMPULSORY (always enabled)
Step 1: Loading Tokenizer for ProsusAI/finbert...
Step 1 Complete: Tokenizer loaded.
Step 2: Loading Base Model ProsusAI/finbert...
Step 2 Complete: Base model loaded.
LoRA adapters applied to model (rank=4)
Trainable parameters: 223,491
